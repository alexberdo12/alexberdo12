(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"U/DO":function(e,n,t){"use strict";t.r(n);var i=t("kZht");class l{}var a=t("C9Ky"),s=t("wdoP"),r=t("XjVr"),o=t("irlv");class u{constructor(e){this.elementRef=e,this.elementRef.nativeElement.setAttribute("style","float: right; top: 60px; bottom: auto; right: 60px; width: 200px")}onWindowResize(){window.innerWidth<1185?this.elementRef.nativeElement.setAttribute("style",'top: 60; bottom: auto; right: 60px; width: "auto"'):this.elementRef.nativeElement.setAttribute("style","float: right; top: 60; bottom: auto; right: 60px; width: 200px")}}var c=t("1VvW"),p=t("7XSI"),d=t("Jrv3"),h=t("j5Ex"),v=t("i52/"),b=t("4G1k"),g=t("xpCX"),m=t("fet1"),S=t("l5Kb"),f=t("Tfyd"),_=t("mLda"),E=t("F7rL"),w=t("zTUT"),y=t("24vF"),k=t("P0qx"),A=t("DnNA"),R=t("An66");class C{constructor(){this.number=0,this.completed=!1,this.active=!1,this.link="",this.name=""}}var P=t("6Ija");class O{constructor(e){this._triggerViewService=e,this.progressBarStep=new C,this.selectStepEvent=new i.m,this.vm={stepNumber:0,link:"",stepName:""},this.show={stepNumber:()=>!this.stepIsCompletedButNotActive(),checkMark:()=>this.stepIsCompletedButNotActive(),staticName:()=>!this.stepIsCompletedButNotActive(),linkedName:()=>this.stepIsCompletedButNotActive()},this.style={activeStep:()=>this.progressBarStep.active,completedStep:()=>this.progressBarStep.completed},this.click={link:()=>{this.selectStepEvent.emit()}}}ngOnInit(){this.vm.stepNumber=this.progressBarStep.number,this.vm.link=this.progressBarStep.link,this.vm.link.startsWith("/")||(this.vm.link="/"+this.vm.link),this.vm.stepName=this.progressBarStep.name,this._triggerViewService.isTargetViewEnabled&&this.progressBarStep.active&&this._triggerViewService.targetView("Payment"===this.progressBarStep.name&&this.progressBarStep.completed?"Single-page":this.progressBarStep.link)}stepIsCompletedButNotActive(){return this.progressBarStep.completed&&!this.progressBarStep.active}}var N=i.qb({encapsulation:2,styles:[],data:{}});function I(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),i.sb(1,0,null,null,1,"span",[["class","ups-readerTxt"]],null,null,null,null,null)),(e()(),i.Lb(2,null,[""," "])),(e()(),i.sb(3,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Lb(4,null,["",""]))],null,(function(e,n){var t=n.component;e(n,2,0,t.vm.stepNumber),e(n,4,0,t.vm.stepNumber)}))}function L(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,5,"a",[["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0,a=e.component;return"click"===n&&(l=!1!==i.Eb(e,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),"click"===n&&(l=!1!==a.click.link()&&l),l}),null,null)),i.rb(1,671744,null,0,c.p,[c.n,c.a,R.k],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(e()(),i.sb(2,0,null,null,0,"span",[["aria-hidden","true"],["class","icon ups-icon-check"]],null,null,null,null,null)),(e()(),i.sb(3,0,null,null,2,"span",[["class","ups-readerTxt"]],null,null,null,null,null)),(e()(),i.Lb(4,null,["",""])),i.Hb(5,2)],(function(e,n){e(n,1,0,"preserve",n.component.vm.link)}),(function(e,n){var t=n.component;e(n,0,0,i.Eb(n,1).target,i.Eb(n,1).href);var l=i.Mb(n,4,0,e(n,5,0,i.Eb(n.parent,0),"progressBarStep_stepDone",t.vm.stepNumber));e(n,4,0,l)}))}function B(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i.Lb(1,null,["",""]))],null,(function(e,n){e(n,1,0,n.component.vm.stepName)}))}function D(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,"a",[["class","ups-link"],["queryParamsHandling","preserve"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var l=!0,a=e.component;return"click"===n&&(l=!1!==i.Eb(e,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&l),"click"===n&&(l=!1!==a.click.link()&&l),l}),null,null)),i.rb(1,671744,null,0,c.p,[c.n,c.a,R.k],{queryParamsHandling:[0,"queryParamsHandling"],routerLink:[1,"routerLink"]},null),(e()(),i.Lb(2,null,["",""]))],(function(e,n){e(n,1,0,"preserve",n.component.vm.link)}),(function(e,n){var t=n.component;e(n,0,0,i.Eb(n,1).target,i.Eb(n,1).href),e(n,2,0,t.vm.stepName)}))}function T(e){return i.Nb(0,[i.Fb(0,d.Bb,[d.Db]),(e()(),i.sb(1,0,null,null,7,"div",[["class","ups-progress_number"]],null,null,null,null,null)),i.Ib(512,null,R.F,R.G,[i.r,i.s,i.k,i.D]),i.rb(3,278528,null,0,R.l,[R.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Gb(4,{"ups-progress_current":0,"ups-progress_complete":1}),(e()(),i.hb(16777216,null,null,1,null,I)),i.rb(6,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,L)),i.rb(8,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(9,0,null,null,4,"div",[["class","ups-progress_name"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,B)),i.rb(11,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,D)),i.rb(13,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component,i=e(n,4,0,t.style.activeStep(),t.style.completedStep());e(n,3,0,"ups-progress_number",i),e(n,6,0,t.show.stepNumber()),e(n,8,0,t.show.checkMark()),e(n,11,0,t.show.staticName()),e(n,13,0,t.show.linkedName())}),null)}class F{constructor(e){this.el=e,this.progressBarBarBottom="auto",this.progressBarBarLeft="auto",this.position="absolute",this.el.nativeElement.setAttribute("style",`top: ${this.progressBarBarTop}px;\n        bottom: ${this.progressBarBarBottom};\n        left: ${this.progressBarBarLeft}px`)}onWindowScroll(){this.style=this.calcProgressBar(this.el.nativeElement.offsetHeight),$(window).width()<1185?this.el.nativeElement.setAttribute("style",`top: ${this.style.top}; bottom: ${this.style.bottom}; width: "auto"`):this.el.nativeElement.setAttribute("style",`position: ${this.style.position}; top: ${this.style.top}; bottom: ${this.style.bottom}; width: 200px`)}onWindowResize(){this.style=this.calcProgressBar(this.el.nativeElement.offsetHeight),$(window).width()<1185?this.el.nativeElement.setAttribute("style",`top: ${this.style.top}; bottom: ${this.style.bottom}; width: "auto"`):this.el.nativeElement.setAttribute("style",`position: ${this.style.position}; top: ${this.style.top}; bottom: ${this.style.bottom}; width: 200px`)}calcProgressBar(e){const n=$("#filterByViewContainer").height(),t=$("#rowisswf4tt").height(),i=$("#questionFilterByViewContainer").height(),l=$("#nbsInfoBanner > page-validation-errors > div").height(),a=$("#ups-footerWrap").offset().top,s=$(window).scrollTop(),r=s+e+110+60;return $(window).width()>=1185&&(s<=50+t+n+i+l?(this.progressBarBarBottom="auto",this.position="absolute"):a-r<50?(this.position="absolute",this.progressBarBarTop=0,this.progressBarBarBottom="auto"):(this.progressBarBarTop=110,this.progressBarBarBottom="auto",this.position="fixed"),"auto"!==this.progressBarBarTop&&(this.progressBarBarTop=this.progressBarBarTop+"px"),"auto"!==this.progressBarBarBottom&&(this.progressBarBarBottom=this.progressBarBarBottom+"px")),this.style={position:this.position,top:this.progressBarBarTop,bottom:this.progressBarBarBottom},this.style}}var x=t("kuMc"),j=t("J+dc"),M=t("RQ/V");class U extends d.wb{constructor(e,n,t,i,l,a,s){super(),this._stateService=e,this._navigationService=n,this._displayDataService=t,this._pageValidationErrorsService=i,this._dataUpdaterService=l,this._alertsService=a,this._globalDisplayDataService=s,this.vm={progressBarSteps:new Array},this.on={selectStepEvent:()=>{this._dataUpdaterService.restorePersistedStoreToWorkingStore(),this._pageValidationErrorsService.clearAllErrors(),this._alertsService.clearAlerts()}}}ngOnInit(){this._stateService.progressState$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.vm.progressBarSteps=this.getProgressBarSteps(e,this._navigationService.getActiveApplicationPage())}),this._navigationService.getNavigationEndEvent$().pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{let n=new d.Kg;this._stateService.progressState$.pipe(Object(j.a)(1)).subscribe(e=>n=e),this.vm.progressBarSteps=this.getProgressBarSteps(n,this._navigationService.getActiveApplicationPage())})}ngOnDestroy(){this.completeSubscriptions()}getProgressBarSteps(e,n){const t=new Array({number:1,completed:e.origin.isConfirmed&&e.destination.isConfirmed,active:n===d.B.GuidedOriginPage||n===d.B.GuidedDestinationPage,link:this._navigationService.getRouteFromApplicationPage(n===d.B.GuidedOriginPage?d.B.GuidedOriginPage:d.B.GuidedDestinationPage),name:this._globalDisplayDataService.getMiscStringContent("Where")},{number:2,completed:e.package.isConfirmed,active:n===d.B.GuidedPackagePage,link:this._navigationService.getRouteFromApplicationPage(d.B.GuidedPackagePage),name:this._globalDisplayDataService.getMiscStringContent("What")},{number:3,completed:e.service.isConfirmed,active:n===d.B.GuidedPickupServicePage,link:this._navigationService.getRouteFromApplicationPage(d.B.GuidedPickupServicePage),name:this._globalDisplayDataService.getMiscStringContent("How")},{number:4,completed:e.options.isConfirmed,active:n===d.B.GuidedOptionsPage,link:this._navigationService.getRouteFromApplicationPage(d.B.GuidedOptionsPage),name:this._globalDisplayDataService.getMiscStringContent("Details")},{number:5,completed:e.payment.isConfirmed,active:n===d.B.GuidedPaymentPage,link:this._navigationService.getRouteFromApplicationPage(d.B.GuidedPaymentPage),name:this._globalDisplayDataService.getMiscStringContent("Payment")},{number:6,completed:!1,active:!1,link:"",name:this._globalDisplayDataService.getMiscStringContent("Review")});let i=!1;for(const l of t)l.active?i=!0:i&&(l.completed=!1);return t}}var V=i.qb({encapsulation:2,styles:[],data:{}});function G(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),i.sb(1,0,null,null,1,"progress-bar-step",[],null,[[null,"selectStepEvent"]],(function(e,n,t){var i=!0;return"selectStepEvent"===n&&(i=!1!==e.component.on.selectStepEvent()&&i),i}),T,N)),i.rb(2,114688,null,0,O,[P.a],{progressBarStep:[0,"progressBarStep"]},{selectStepEvent:"selectStepEvent"})],(function(e,n){e(n,2,0,n.context.$implicit)}),null)}function H(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,5,"div",[["class","ups-progress_bar"],["progress-bar-scroll",""]],null,[["window","scroll"],["window","resize"]],(function(e,n,t){var l=!0;return"window:scroll"===n&&(l=!1!==i.Eb(e,1).onWindowScroll()&&l),"window:resize"===n&&(l=!1!==i.Eb(e,1).onWindowResize()&&l),l}),null,null)),i.rb(1,16384,null,0,F,[i.k],null,null),(e()(),i.sb(2,0,null,null,3,"div",[["class","ups-progress_bar_inner"]],null,null,null,null,null)),(e()(),i.sb(3,0,null,null,2,"ol",[],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,G)),i.rb(5,278528,null,0,R.m,[i.O,i.L,i.r],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){e(n,5,0,n.component.vm.progressBarSteps)}),null)}var W=t("BwBJ"),q=t("UcQq"),z=t("UU93"),K=t("pruf"),X=t("GuxW"),J=t("IdLP"),Z=t("HM3f"),Q=t("SEmP"),Y=t("bKc8");class ee extends d.wb{constructor(e,n,t,i,l,a,s,r,o,u,c,p,h,v){super(),this._pageValidationErrorsService=e,this._ratingService=n,this._broadcastService=t,this._shipmentDataService=i,this._rateDataService=l,this._shipmentRulesService=a,this._transactionDataService=s,this._laneRulesService=r,this.simpleRateService=o,this.guidedDictionaryService=u,this._stateService=c,this._dataAccessService=p,this._rulesFactoryService=h,this._navigationService=v,this.vm={shipmentRate:new d.Th,pickupRate:new d.ig,originCountry:d.Hb.None,service:new d.sh,isRating$:new J.a,isCaStandardShipmentDisclaimerRequired:!1,locale:new d.Se,isInternationalShipment:!1,isGfpShipment:!1},this.show={reloadableShipmentContainer:!1,balanceBar:!1},this.showSimpleRateBanner=!1}ngOnInit(){this.guidedDictionaryService.guidedComponent=this,this.show.reloadableShipmentContainer=!0,this.showSimpleRateBanner=this.simpleRateService.getIsSimpleRateEnabled(),this.initializeShipmentType(),Object(Z.a)([this._stateService.progressState$,this._dataAccessService.distributionList$,this._shipmentDataService.isWorldwideEconomyChildShipment$]).pipe(Object(x.a)(this.ngUnsubscribe),Object(W.a)(0)).subscribe(([e,n,t])=>{this.show.balanceBar=e.service.isVisited&&!n.isDListShipment&&!t}),this._shipmentRulesService.isCaStandardShipmentDisclaimerRequired$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this.vm.isCaStandardShipmentDisclaimerRequired=e),this._broadcastService.broadcastMessage$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{switch(e){case d.Q.ClearShipment:case d.Q.CancelShipment:this.show.reloadableShipmentContainer=!1,setTimeout(()=>{this.show.reloadableShipmentContainer=!0})}}),this.vm.isRating$=this._ratingService.isRating$,this._rateDataService.shipmentRate$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{setTimeout(()=>{this.vm.shipmentRate=e})}),this._rateDataService.pickupRate$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{setTimeout(()=>{this.vm.pickupRate=e})}),this._shipmentDataService.originCountry$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{setTimeout(()=>{this.vm.originCountry=e})}),this._shipmentDataService.service$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{setTimeout(()=>{this.vm.service=e})}),this._laneRulesService.createLaneRules().pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.vm.isInternationalShipment=e.isInternational()}),this._rulesFactoryService.createShipmentRules().pipe(Object(j.a)(1)).subscribe(e=>this._navigationService.switchToWorkflow(d.fi.Guided,e.isShipmentInternational(),!1,!0,null,null)),this.vm.locale=this._transactionDataService.locale,this._pageValidationErrorsService.clearFieldErrors()}ngOnDestroy(){this.completeSubscriptions()}initializeShipmentType(){this._shipmentDataService.shipmentType$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{e&&(this.vm.isGfpShipment=e.groundFreightPricing)})}}var ne=i.qb({encapsulation:2,styles:[],data:{}});function te(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,"cancel-simple-rate-banner",[["cancel-banner",""]],null,[["window","resize"]],(function(e,n,t){var l=!0;return"window:resize"===n&&(l=!1!==i.Eb(e,2).onWindowResize()&&l),l}),s.c,s.b)),i.rb(1,49152,null,0,r.a,[o.a],null,null),i.rb(2,16384,null,0,u,[i.k],null,null)],null,null)}function ie(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.sb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i.rb(2,212992,null,0,c.r,[c.b,i.O,i.j,[8,null],i.h],null,null),(e()(),i.hb(0,null,null,0))],(function(e,n){e(n,2,0)}),null)}function le(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,3,"balance-bar",[],null,[["window","scroll"],["document","click"]],(function(e,n,t){var l=!0;return"window:scroll"===n&&(l=!1!==i.Eb(e,3).onWindowScroll()&&l),"document:click"===n&&(l=!1!==i.Eb(e,3).onDocumentClick(t)&&l),l}),p.M,p.b)),i.Ib(512,null,d.U,d.U,[]),i.Ib(512,null,d.aj,d.aj,[d.U]),i.rb(3,4440064,null,0,d.C,[d.aj,i.h,i.y,i.k,d.ke],{originCountry:[0,"originCountry"],isGfpShipment:[1,"isGfpShipment"],isInternationalShipment:[2,"isInternationalShipment"],locale:[3,"locale"],isCaStandardShipmentDisclaimerRequired:[4,"isCaStandardShipmentDisclaimerRequired"],shipmentRate:[5,"shipmentRate"],pickupRate:[6,"pickupRate"],service:[7,"service"],ratingNotify:[8,"ratingNotify"]},null)],(function(e,n){var t=n.component;e(n,3,0,t.vm.originCountry,t.vm.isGfpShipment,t.vm.isInternationalShipment,t.vm.locale,t.vm.isCaStandardShipmentDisclaimerRequired,t.vm.shipmentRate,t.vm.pickupRate,t.vm.service,t.vm.isRating$)}),null)}function ae(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,13,"div",[["class","ups-wrap_inner"]],null,null,null,null,null)),(e()(),i.sb(1,0,null,null,3,"info-banner",[["class","ng-tns-c0-0"]],null,[["document","click"],["window","resize"]],(function(e,n,t){var l=!0;return"document:click"===n&&(l=!1!==i.Eb(e,4).onDocumentClick(t)&&l),"window:resize"===n&&(l=!1!==i.Eb(e,4).onWindowResize()&&l),l}),h.b,h.a)),i.Ib(512,null,d.U,d.U,[]),i.Ib(512,null,d.aj,d.aj,[d.U]),i.rb(4,245760,null,0,v.a,[b.a,g.a,m.a,d.Of,S.a,o.a,f.a,_.a,E.a,w.a,y.a,d.v,d.Ri,d.aj,i.h,k.a,A.a,i.k],null,null),(e()(),i.sb(5,0,null,null,1,"progress-bar",[],null,null,null,H,V)),i.rb(6,245760,null,0,U,[S.a,g.a,M.a,d.Of,y.a,d.v,d.ke],null,null),(e()(),i.hb(16777216,null,null,1,null,te)),i.rb(8,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(9,0,null,null,4,"div",[["class","ups-wrap"]],null,null,null,null,null)),(e()(),i.sb(10,0,null,null,3,"div",[["class","ups-wrap_inner"]],null,null,null,null,null)),(e()(),i.sb(11,0,null,null,2,"div",[["class","ups-app_inner"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,ie)),i.rb(13,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,le)),i.rb(15,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,4,0),e(n,6,0),e(n,8,0,t.showSimpleRateBanner),e(n,13,0,t.show.reloadableShipmentContainer),e(n,15,0,t.show.balanceBar)}),null)}function se(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,ae,ne)),i.rb(1,245760,null,0,ee,[d.Of,q.a,d.R,w.a,z.a,X.a,E.a,d.Fe,K.a,Q.a,S.a,A.a,Y.a,g.a],null,null)],(function(e,n){e(n,1,0)}),null)}var re=i.ob("ng-component",ee,se,{},{},[]),oe=t("58Z5"),ue=t("IETc"),ce=t("x68T"),pe=t("qBNy"),de=t("nKC1"),he=t("JphB"),ve=t("pzyc"),be=t("qU6X"),ge=t("yxLT"),me=t("vNYF"),Se=t("w8bF"),fe=t("J9iq"),_e=t("GaJk"),Ee=t("y0Hu"),we=t("k4rH"),ye=t("YXyE"),ke=t("dzja"),Ae=t("9/aI"),Re=t("58QV"),Ce=t("x/HJ"),Pe=t("Q32M"),Oe=t("ikpQ"),Ne=t("+AEf"),Ie=t("R4iT"),Le=t("h+Ph"),Be=t("LlEW"),De=t("HERX"),$e=t("aK2x"),Te=t("Ctwo"),Fe=t("h4SG"),xe=t("sSr/"),je=t("vGlv"),Me=t("7EUL"),Ue=t("tCrN"),Ve=t("wBQd"),Ge=t("bX4r"),He=t("evXS"),We=t("OYVe"),qe=t("Ohay"),ze=t("xVbo"),Ke=t("3kIJ"),Xe=t("/jQV"),Je=t("56Sn"),Ze=t("gAVE"),Qe=t("ZTXN"),Ye=t("wgLM"),en=t("cAbI");class nn extends d.wb{constructor(e,n,t,i,l,a,s,r,o,u,c,p,h,v){super(),this._navigationService=e,this._stateService=n,this._pageValidationErrorsService=t,this._modalLauncherService=i,this._accountChangeService=l,this._webTrendsService=a,this._uiEventLoggingService=s,this._dataUpdaterService=r,this._dataAccessService=o,this._shipmentDataService=u,this._alertsService=c,this._accountListService=p,this._modernToLegacyStateChangeService=h,this._scaleService=v,this.on={navigateEvent:e=>{switch(e){case Xe.a.Continue:this.navigateForward();break;case Xe.a.CancelShipment:default:this._modalLauncherService.launchCancelShipmentWarningModal()}},accountSelectedEvent:e=>{this._shipmentDataService.account$.pipe(Object(j.a)(1)).subscribe(n=>{this._accountChangeService.changeAccount(n,e).pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.vm.selectedShipperAccount=e})})}},this.vm={form:new Ke.l({}),navigationDisplaySet:Ze.a.ContinueOnly,shippingWorkflow:d.fi.Guided,accountList:new Array,selectedShipperAccount:new d.k,validateAddressEvent$:new Qe.a,navigationNotify$:new Qe.a,displaySpecialtyAccountServices:!0},this.show={accountsDropdown:!1,forwardMode:!1,returnsMode:!1,returnShipper:!1,scaleSoftwareInstallationMessage:!1},this._scaleSoftwareUrl=""}ngOnInit(){this._stateService.markProgressStepAsVisited(d.Lg.Origin),this._shipmentDataService.direction$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.returnsMode=e===d.Ih.Return,this.show.forwardMode=e===d.Ih.Forward}),this._dataAccessService.allCurrentData$.pipe(Object(j.a)(1)).subscribe(e=>{this.updateAccountSection(),e.transactionInfo.loggedIn&&e.userCustomData.userAccounts&&e.userCustomData.userAccounts.length>0&&(this.vm.selectedShipperAccount=e.shipment.account,this.show.accountsDropdown=!0)}),this._accountListService.accountList$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.vm.accountList=e,this.updateAccountSection()}),this._pageValidationErrorsService.serverErrorsAdded$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(()=>{this.vm.navigationNotify$.next(Xe.a.Stop)}),this._shipmentDataService.isWorldwideEconomyShipment$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.returnShipper=!e}),this._shipmentDataService.account$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.vm.selectedShipperAccount=e}),this._webTrendsService.updateUtagsForShipFrom(),this._uiEventLoggingService.logPageLoadEvent(),this._scaleService.showScaleInstallationMessage$.pipe(Object(qe.a)(),Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.scaleSoftwareInstallationMessage=e}),this._scaleSoftwareUrl=this._scaleService.getScaleSoftwareURL()}ngOnDestroy(){this.completeSubscriptions()}navigateForward(){this.vm.navigationNotify$.next(Xe.a.Continue),this._navigationService.isReadyToNav$.pipe(Object(ze.a)(e=>e),Object(j.a)(1)).subscribe(e=>{d.nd.submitForm(this.vm.form),this._modernToLegacyStateChangeService.isModernOriginCacValid()&&this._modernToLegacyStateChangeService.isModernOriginReturnCacValid()?(this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._pageValidationErrorsService.hasCriticalErrors()?(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop()):(this._dataUpdaterService.migrateWorkingStoreToPersistedStore(),this._navigationService.confirmPageAndNavigateToNextPage(d.B.GuidedOriginPage))):(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop(),setTimeout(()=>{this._pageValidationErrorsService.updateFieldErrors()}))})}updateAccountSection(){this.show.accountsDropdown=this.vm.accountList.length>0}}var tn=i.qb({encapsulation:2,styles:[],data:{}});function ln(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),i.sb(1,0,null,null,11,"div",[["class","col-sm-7"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,10,"div",[["class","alert alert-warning alert-dismissible"],["role","alert"]],null,null,null,null,null)),(e()(),i.sb(3,0,null,null,1,"div",[["class","alert-icon pull-left"]],null,null,null,null,null)),(e()(),i.sb(4,0,null,null,0,"span",[["aria-hidden","true"],["class","icon ups-icon-alert"]],null,null,null,null,null)),(e()(),i.sb(5,0,null,null,7,"div",[["class","alert-content ups-alert_has_icon"]],null,null,null,null,null)),(e()(),i.sb(6,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.sb(7,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),i.Lb(8,null,["",""])),i.Hb(9,1),(e()(),i.sb(10,0,null,null,2,"a",[["class","ups-link"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),i.Lb(11,null,["",""])),i.Hb(12,1)],null,(function(e,n){var t=n.component,l=i.Mb(n,8,0,e(n,9,0,i.Eb(n.parent.parent,0),"scale_installation"));e(n,8,0,l),e(n,10,0,i.wb(1,"",t._scaleSoftwareUrl,""));var a=i.Mb(n,11,0,e(n,12,0,i.Eb(n.parent.parent,0),"scale_installation_link"));e(n,11,0,a)}))}function an(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,5,"div",[["class","alert alert-primary"]],null,null,null,null,null)),(e()(),i.sb(1,0,null,null,4,"div",[["class","alert-content"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,1,"shipper-account",[["controlId","Origin"]],null,[[null,"accountSelectedEvent"]],(function(e,n,t){var i=!0;return"accountSelectedEvent"===n&&(i=!1!==e.component.on.accountSelectedEvent(t)&&i),i}),oe.b,oe.a)),i.rb(3,245760,null,0,ue.a,[ce.a,w.a,pe.a,de.a,he.a,ve.a],{controlId:[0,"controlId"],parentForm:[1,"parentForm"],accountList:[2,"accountList"],selectedShipperAccount:[3,"selectedShipperAccount"],isRequired:[4,"isRequired"],radioListThreshold:[5,"radioListThreshold"],displaySpecialtyAccountServices:[6,"displaySpecialtyAccountServices"]},{accountSelectedEvent:"accountSelectedEvent"}),(e()(),i.hb(16777216,null,null,1,null,ln)),i.rb(5,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,3,0,"Origin",t.vm.form,t.vm.accountList,t.vm.selectedShipperAccount,!1,0,t.vm.displaySpecialtyAccountServices),e(n,5,0,t.show.scaleSoftwareInstallationMessage)}),null)}function sn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.sb(1,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(2,null,["",""])),i.Hb(3,1),(e()(),i.sb(4,0,null,null,2,"origin",[],null,null,null,be.b,be.a)),i.Ib(4608,null,ge.b,me.a,[w.a,Y.a,g.a,E.a,Se.a,de.a,fe.o]),i.rb(6,245760,null,0,_e.a,[_.a,pe.a,d.ke,S.a,b.a,Ee.a,we.a,Y.a,ye.a,y.a,w.a,E.a,z.a,ke.a,de.a,Ae.a,Se.a,k.a,Re.a,Ce.a,Pe.a],{shippingWorkflow:[0,"shippingWorkflow"],validateAddressEvent:[1,"validateAddressEvent"]},null)],(function(e,n){var t=n.component;e(n,6,0,t.vm.shippingWorkflow,t.vm.validateAddressEvent$)}),(function(e,n){var t=i.Mb(n,2,0,e(n,3,0,i.Eb(n.parent,0),"originPage_title"));e(n,2,0,t)}))}function rn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.sb(1,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(2,null,["",""])),i.Hb(3,1),(e()(),i.sb(4,0,null,null,2,"destination",[],null,[[null,"validateAddressResponseEvent"],[null,"updateAddressResponseEvent"]],(function(e,n,t){var i=!0,l=e.component;return"validateAddressResponseEvent"===n&&(i=!1!==l.on.validateAddressResponseEvent()&&i),"updateAddressResponseEvent"===n&&(i=!1!==l.on.updateAddressResponseEvent(t)&&i),i}),Oe.b,Oe.a)),i.Ib(4608,null,ge.b,Ne.a,[Ce.a,w.a,Y.a,g.a,d.af,fe.o]),i.rb(6,245760,null,0,Ie.a,[_.a,pe.a,S.a,b.a,Le.a,Y.a,we.a,k.a,y.a,A.a,w.a,E.a,z.a,ke.a,d.ke,Be.a,i.h,Re.a,Ce.a,De.a,$e.a,Ae.a,Pe.a],{shippingWorkflow:[0,"shippingWorkflow"],validateAddressEvent:[1,"validateAddressEvent"]},{validateAddressResponseEvent:"validateAddressResponseEvent",updateAddressResponseEvent:"updateAddressResponseEvent"})],(function(e,n){var t=n.component;e(n,6,0,t.vm.shippingWorkflow,t.vm.validateAddressEvent$)}),(function(e,n){var t=i.Mb(n,2,0,e(n,3,0,i.Eb(n.parent,0),"originPage_title2"));e(n,2,0,t)}))}function on(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,"return-shipper",[],null,null,null,Te.b,Te.a)),i.Ib(4608,null,ge.b,Fe.a,[w.a,Y.a,g.a,E.a,xe.a,fe.o]),i.rb(2,245760,null,0,je.a,[pe.a,d.ke,S.a,we.a,y.a,w.a,E.a,ke.a,Ee.a,Ae.a,xe.a,k.a],{shippingWorkflow:[0,"shippingWorkflow"],validateAddressEvent:[1,"validateAddressEvent"]},null)],(function(e,n){var t=n.component;e(n,2,0,t.vm.shippingWorkflow,t.vm.validateAddressEvent$)}),null)}function un(e){return i.Nb(0,[i.Fb(0,d.Bb,[d.Db]),(e()(),i.sb(1,0,null,null,10,"section",[["class","ups-section"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,1,"alerts",[],null,null,null,Me.b,Me.a)),i.rb(3,245760,null,0,Ue.a,[d.v],null,null),(e()(),i.hb(16777216,null,null,1,null,an)),i.rb(5,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,sn)),i.rb(7,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,rn)),i.rb(9,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,on)),i.rb(11,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(12,0,null,null,1,"back-forward-navigation",[],null,[[null,"navigateEvent"]],(function(e,n,t){var i=!0;return"navigateEvent"===n&&(i=!1!==e.component.on.navigateEvent(t)&&i),i}),Ve.b,Ve.a)),i.rb(13,245760,null,0,Ge.a,[k.a,E.a,Re.a,z.a,A.a,Pe.a,S.a,He.a,We.a,d.Fe],{navigationDisplaySet:[0,"navigationDisplaySet"],navigationNotify:[1,"navigationNotify"]},{navigateEvent:"navigateEvent"})],(function(e,n){var t=n.component;e(n,3,0),e(n,5,0,t.show.accountsDropdown),e(n,7,0,t.show.forwardMode),e(n,9,0,t.show.returnsMode),e(n,11,0,t.show.returnShipper),e(n,13,0,t.vm.navigationDisplaySet,t.vm.navigationNotify$)}),null)}function cn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,un,tn)),i.rb(1,245760,null,0,nn,[g.a,S.a,d.Of,b.a,ye.a,k.a,Ye.a,y.a,A.a,w.a,d.v,Je.a,$e.a,en.a],null,null)],(function(e,n){e(n,1,0)}),null)}var pn=i.ob("ng-component",nn,cn,{},{},[]),dn=t("55aW"),hn=t("Zcm7"),vn=t("E609"),bn=t("yJKM"),gn=t("bVkP");class mn extends d.wb{constructor(e,n,t,i,l,a,s,r,o,u,c,p,h,v,b,g,m,S,f){super(),this._navigationService=e,this._stateService=n,this._pageValidationErrorsService=t,this._alertsService=i,this._modalLauncherService=l,this._accountChangeService=a,this._webTrendsService=s,this._uiEventLoggingService=r,this._dataAccessService=o,this._dataUpdaterService=u,this._shipmentDataService=c,this._preferencesDataService=p,this._accountListService=h,this._deniedPartyScreeningService=v,this._rulesFactoryService=b,this._packageRulesService=g,this._modernToLegacyStateChangeService=m,this._appStateService=S,this._scaleService=f,this._isDetailedAddressValidationRequired=!0,this._isInternational=!1,this._isGuest=!1,this.on={navigateEvent:e=>{switch(e){case Xe.a.Continue:this.navigateForward();break;case Xe.a.Back:this.navigateBack();break;case Xe.a.CancelShipment:default:this._modalLauncherService.launchCancelShipmentWarningModal()}},accountSelectedEvent:e=>{this._shipmentDataService.account$.pipe(Object(j.a)(1)).subscribe(n=>{this._accountChangeService.changeAccount(n,e).pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this.vm.selectedShipperAccount=e)})},validateAddressResponseEvent:()=>{this._dataUpdaterService.migrateWorkingStoreToPersistedStore(),this._navigationService.confirmPageAndNavigateToNextPage(d.B.GuidedDestinationPage)},updateAddressResponseEvent:()=>{this.vm.navigationNotify$.next(Xe.a.Stop)}},this.vm={form:new Ke.l({}),navigationDisplaySet:Ze.a.BackContinue,shippingWorkflow:d.fi.Guided,accountList:new Array,selectedShipperAccount:new d.k,validateAddressEvent$:new Qe.a,navigationNotify$:new Qe.a,originAgent:new d.s,returnAgent:new d.s,destinationAgent:new d.s,displaySpecialtyAccountServices:!0},this.show={accountsDropdown:!1,originOnlyHeading:!1,returnSection:!1,forwardHeader:!1,returnHeader:!1,forwardMode:!1,returnsMode:!1,editOriginReturn:!1,scaleSoftwareInstallationMessage:!1},this.style={originAndReturnLayout:!1},this.click={editOriginReturn:()=>this.navigateBack()},this._scaleSoftwareUrl=""}ngOnInit(){this._stateService.markProgressStepAsVisited(d.Lg.Destination),this._shipmentDataService.direction$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.returnsMode=e===d.Ih.Return,this.show.forwardMode=e===d.Ih.Forward}),this._dataAccessService.allCurrentData$.pipe(Object(j.a)(1)).subscribe(e=>{if(this.updateAccountSection(),e.transactionInfo.loggedIn&&e.userCustomData.userAccounts&&e.userCustomData.userAccounts.length>0&&(this.vm.accountList=e.userCustomData.userAccounts,this.vm.selectedShipperAccount=e.shipment.account,this.show.accountsDropdown=!0),this.vm.returnAgent=e.shipment.return,this.vm.destinationAgent=e.shipment.destination,this._isGuest=!e.transactionInfo.loggedIn,this._appStateService.isSimpleRateEnabled&&!e.shipment.shipmentType.simpleRate){const n=e.shipment.shipmentType;n.simpleRate=this._appStateService.isSimpleRateEnabled,this._dataUpdaterService.updateShipmentType(n)}}),this._accountListService.accountList$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.vm.accountList=e,this.updateAccountSection()}),this._dataAccessService.shipment$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.originOnlyHeading=!e.isReturnSameAsOrigin||e.direction===d.Ih.Return||e.shipmentType.worldwideEconomyType!==d.lj.None,this.show.returnSection=!e.isReturnSameAsOrigin&&e.shipmentType.worldwideEconomyType===d.lj.None,this.style.originAndReturnLayout=!e.isReturnSameAsOrigin&&e.shipmentType.worldwideEconomyType===d.lj.None,this.show.editOriginReturn=e.shipmentType.worldwideEconomyType===d.lj.None,this.vm.originAgent=e.origin}),this._pageValidationErrorsService.serverErrorsAdded$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(()=>this.vm.navigationNotify$.next(Xe.a.Stop)),this._shipmentDataService.account$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this.vm.selectedShipperAccount=e),this._shipmentDataService.direction$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.forwardHeader=e===d.Ih.Forward,this.show.returnHeader=e===d.Ih.Return}),this._rulesFactoryService.createLaneRules().pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{e.isInternational()&&(this._isInternational=!0)}),Object(Z.a)([this._preferencesDataService.addressBookPreferences$,this._shipmentDataService.destinationState$]).pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(([e,n])=>{this._isDetailedAddressValidationRequired=e.detailedAddressValidationRequested&&!d.Zh.isMilitaryAddress(n)}),this._webTrendsService.updateUtagsForShipTo(),this._uiEventLoggingService.logPageLoadEvent(),this._scaleService.showScaleInstallationMessage$.pipe(Object(qe.a)(),Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.scaleSoftwareInstallationMessage=e}),this._scaleSoftwareUrl=this._scaleService.getScaleSoftwareURL()}ngOnDestroy(){this.completeSubscriptions()}navigateForward(){this._isInternational?this._deniedPartyScreeningService.getDeniedPartyFromBackend$().subscribe(e=>{e.valid?this.validateShipment():(this._modalLauncherService.launchDeniedPartyScreeningModal(),this._deniedPartyScreeningService.deniedPartyScreeningContinue$.pipe(Object(j.a)(1)).subscribe(e=>{e?this.validateShipment():this.vm.navigationNotify$.next(Xe.a.Stop)}))}):this.validateShipment()}validateShipment(){this.vm.navigationNotify$.next(Xe.a.Continue),this._navigationService.isReadyToNav$.pipe(Object(ze.a)(e=>e),Object(j.a)(1)).subscribe(e=>{d.nd.submitForm(this.vm.form),this.vm.form.valid&&this._modernToLegacyStateChangeService.isModernDestinationCacValid()?(this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._pageValidationErrorsService.hasCriticalErrors()?(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop()):this._isDetailedAddressValidationRequired||this._isGuest?(this.vm.validateAddressEvent$.next(),this._packageRulesService.setActivePackageIndex(0)):(this.on.validateAddressResponseEvent(),this._packageRulesService.setActivePackageIndex(0))):(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop(),setTimeout(()=>{this._pageValidationErrorsService.updateFieldErrors()}))})}navigateBack(){this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._dataUpdaterService.restorePersistedStoreToWorkingStore(),this._navigationService.navigateToPrecedingPage(d.B.GuidedDestinationPage)}updateAccountSection(){this.show.accountsDropdown=this.vm.accountList.length>0}}var Sn=i.qb({encapsulation:2,styles:[],data:{}});function fn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,6,"button",[["class","ups-link pull-right"],["id","nbsDestinationPageEditOriginAndReturnButton"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.click.editOriginReturn()&&i),i}),null,null)),(e()(),i.sb(1,0,null,null,0,"span",[["aria-hidden","true"],["class","icon ups-icon-edit"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Lb(-1,null,[" "])),(e()(),i.sb(4,0,null,null,2,"span",[["aria-hidden","true"],["class","hidden-xs"]],null,null,null,null,null)),(e()(),i.Lb(5,null,["",""])),i.Hb(6,1)],null,(function(e,n){var t=i.Mb(n,5,0,e(n,6,0,i.Eb(n.parent,0),"destinationPage_editOriginReturn"));e(n,5,0,t)}))}function _n(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function En(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.Lb(1,null,["",""])),i.Hb(2,1)],null,(function(e,n){var t=i.Mb(n,1,0,e(n,2,0,i.Eb(n.parent.parent,0),"destinationPage_originAddressHeading"));e(n,1,0,t)}))}function wn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.Lb(1,null,["",""])),i.Hb(2,1)],null,(function(e,n){var t=i.Mb(n,1,0,e(n,2,0,i.Eb(n.parent.parent,0),"destinationPage_originAddressHeading1"));e(n,1,0,t)}))}function yn(e){return i.Nb(0,[(e()(),i.hb(16777216,null,null,1,null,En)),i.rb(1,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,wn)),i.rb(3,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(4,0,null,null,2,"span",[["class","ups-readerTxt"]],null,null,null,null,null)),(e()(),i.Lb(5,null,["",""])),i.Hb(6,1)],(function(e,n){var t=n.component;e(n,1,0,t.show.forwardHeader),e(n,3,0,t.show.returnHeader)}),(function(e,n){var t=i.Mb(n,5,0,e(n,6,0,i.Eb(n.parent,0),"destinationPage_originAddressHeading2"));e(n,5,0,t)}))}function kn(e){return i.Nb(0,[(e()(),i.Lb(0,null,["",""])),i.Hb(1,1),(e()(),i.sb(2,0,null,null,2,"span",[["class","ups-readerTxt"]],null,null,null,null,null)),(e()(),i.Lb(3,null,["",""])),i.Hb(4,1)],null,(function(e,n){var t=i.Mb(n,0,0,e(n,1,0,i.Eb(n.parent,0),"destinationPage_originAndReturnHeading"));e(n,0,0,t);var l=i.Mb(n,3,0,e(n,4,0,i.Eb(n.parent,0),"destinationPage_originAndReturnHeading1"));e(n,3,0,l)}))}function An(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.sb(1,0,null,null,1,"ship-app-agent-summary",[["prefix","origin"]],null,null,null,dn.b,dn.a)),i.rb(2,573440,null,0,hn.a,[vn.a],{prefix:[0,"prefix"],agent:[1,"agent"]},null)],(function(e,n){e(n,2,0,"origin",n.component.vm.originAgent)}),null)}function Rn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i.sb(1,0,null,null,1,"ship-app-agent-summary",[["prefix","destination"]],null,null,null,dn.b,dn.a)),i.rb(2,573440,null,0,hn.a,[vn.a],{prefix:[0,"prefix"],agent:[1,"agent"]},null)],(function(e,n){e(n,2,0,"destination",n.component.vm.destinationAgent)}),null)}function Cn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,5,"h2",[["class","ups-section_heading"]],null,null,null,null,null)),(e()(),i.Lb(1,null,["",""])),i.Hb(2,1),(e()(),i.sb(3,0,null,null,2,"span",[["class","ups-readerTxt"]],null,null,null,null,null)),(e()(),i.Lb(4,null,["",""])),i.Hb(5,1)],null,(function(e,n){var t=i.Mb(n,1,0,e(n,2,0,i.Eb(n.parent.parent,0),"destinationPage_returnHeading"));e(n,1,0,t);var l=i.Mb(n,4,0,e(n,5,0,i.Eb(n.parent.parent,0),"destinationPage_returnHeading1"));e(n,4,0,l)}))}function Pn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,5,"h2",[["class","ups-section_heading"]],null,null,null,null,null)),(e()(),i.Lb(1,null,["",""])),i.Hb(2,1),(e()(),i.sb(3,0,null,null,2,"span",[["class","ups-readerTxt"]],null,null,null,null,null)),(e()(),i.Lb(4,null,["",""])),i.Hb(5,1)],null,(function(e,n){var t=i.Mb(n,1,0,e(n,2,0,i.Eb(n.parent.parent,0),"destinationPage_shipperAddressHeading"));e(n,1,0,t);var l=i.Mb(n,4,0,e(n,5,0,i.Eb(n.parent.parent,0),"destinationPage_shipperAddressHeading1"));e(n,4,0,l)}))}function On(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,14,"div",[["class","col-md-5 col-md-offset-2 ups-section"]],null,null,null,null,null)),(e()(),i.sb(1,0,null,null,11,"div",[["class","ups-section-header"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,6,"button",[["class","ups-link pull-right"],["id","nbsDestinationPageEditReturnButton"],["type","button"]],null,[[null,"click"]],(function(e,n,t){var i=!0;return"click"===n&&(i=!1!==e.component.click.editOriginReturn()&&i),i}),null,null)),(e()(),i.sb(3,0,null,null,0,"span",[["aria-hidden","true"],["class","icon ups-icon-edit"]],null,null,null,null,null)),(e()(),i.sb(4,0,null,null,1,null,null,null,null,null,null,null)),(e()(),i.Lb(-1,null,[" "])),(e()(),i.sb(6,0,null,null,2,"span",[["aria-hidden","true"],["class","hidden-xs"]],null,null,null,null,null)),(e()(),i.Lb(7,null,["",""])),i.Hb(8,1),(e()(),i.hb(16777216,null,null,1,null,Cn)),i.rb(10,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Pn)),i.rb(12,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(13,0,null,null,1,"ship-app-agent-summary",[["prefix","return"]],null,null,null,dn.b,dn.a)),i.rb(14,573440,null,0,hn.a,[vn.a],{prefix:[0,"prefix"],agent:[1,"agent"]},null)],(function(e,n){var t=n.component;e(n,10,0,t.show.forwardHeader),e(n,12,0,t.show.returnHeader),e(n,14,0,"return",t.vm.returnAgent)}),(function(e,n){var t=i.Mb(n,7,0,e(n,8,0,i.Eb(n.parent,0),"destinationPage_editReturn"));e(n,7,0,t)}))}function Nn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),i.sb(1,0,null,null,11,"div",[["class","col-sm-7"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,10,"div",[["class","alert alert-warning alert-dismissible"],["role","alert"]],null,null,null,null,null)),(e()(),i.sb(3,0,null,null,1,"div",[["class","alert-icon pull-left"]],null,null,null,null,null)),(e()(),i.sb(4,0,null,null,0,"span",[["aria-hidden","true"],["class","icon ups-icon-alert"]],null,null,null,null,null)),(e()(),i.sb(5,0,null,null,7,"div",[["class","alert-content ups-alert_has_icon"]],null,null,null,null,null)),(e()(),i.sb(6,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.sb(7,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),i.Lb(8,null,["",""])),i.Hb(9,1),(e()(),i.sb(10,0,null,null,2,"a",[["class","ups-link"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),i.Lb(11,null,["",""])),i.Hb(12,1)],null,(function(e,n){var t=n.component,l=i.Mb(n,8,0,e(n,9,0,i.Eb(n.parent.parent,0),"scale_installation"));e(n,8,0,l),e(n,10,0,i.wb(1,"",t._scaleSoftwareUrl,""));var a=i.Mb(n,11,0,e(n,12,0,i.Eb(n.parent.parent,0),"scale_installation_link"));e(n,11,0,a)}))}function In(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,5,"div",[["class","alert alert-primary"]],null,null,null,null,null)),(e()(),i.sb(1,0,null,null,4,"div",[["class","alert-content"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,1,"shipper-account",[["controlId","Destination"]],null,[[null,"accountSelectedEvent"]],(function(e,n,t){var i=!0;return"accountSelectedEvent"===n&&(i=!1!==e.component.on.accountSelectedEvent(t)&&i),i}),oe.b,oe.a)),i.rb(3,245760,null,0,ue.a,[ce.a,w.a,pe.a,de.a,he.a,ve.a],{controlId:[0,"controlId"],parentForm:[1,"parentForm"],accountList:[2,"accountList"],selectedShipperAccount:[3,"selectedShipperAccount"],radioListThreshold:[4,"radioListThreshold"],displaySpecialtyAccountServices:[5,"displaySpecialtyAccountServices"]},{accountSelectedEvent:"accountSelectedEvent"}),(e()(),i.hb(16777216,null,null,1,null,Nn)),i.rb(5,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,3,0,"Destination",t.vm.form,t.vm.accountList,t.vm.selectedShipperAccount,0,t.vm.displaySpecialtyAccountServices),e(n,5,0,t.show.scaleSoftwareInstallationMessage)}),null)}function Ln(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.sb(1,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(2,null,["",""])),i.Hb(3,1),(e()(),i.sb(4,0,null,null,2,"destination",[],null,[[null,"validateAddressResponseEvent"],[null,"updateAddressResponseEvent"]],(function(e,n,t){var i=!0,l=e.component;return"validateAddressResponseEvent"===n&&(i=!1!==l.on.validateAddressResponseEvent()&&i),"updateAddressResponseEvent"===n&&(i=!1!==l.on.updateAddressResponseEvent()&&i),i}),Oe.b,Oe.a)),i.Ib(4608,null,ge.b,Ne.a,[Ce.a,w.a,Y.a,g.a,d.af,fe.o]),i.rb(6,245760,null,0,Ie.a,[_.a,pe.a,S.a,b.a,Le.a,Y.a,we.a,k.a,y.a,A.a,w.a,E.a,z.a,ke.a,d.ke,Be.a,i.h,Re.a,Ce.a,De.a,$e.a,Ae.a,Pe.a],{shippingWorkflow:[0,"shippingWorkflow"],validateAddressEvent:[1,"validateAddressEvent"]},{validateAddressResponseEvent:"validateAddressResponseEvent",updateAddressResponseEvent:"updateAddressResponseEvent"})],(function(e,n){var t=n.component;e(n,6,0,t.vm.shippingWorkflow,t.vm.validateAddressEvent$)}),(function(e,n){var t=i.Mb(n,2,0,e(n,3,0,i.Eb(n.parent,0),"destinationPage_title"));e(n,2,0,t)}))}function Bn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),i.sb(1,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(2,null,["",""])),i.Hb(3,1),(e()(),i.sb(4,0,null,null,2,"origin",[],null,null,null,be.b,be.a)),i.Ib(4608,null,ge.b,me.a,[w.a,Y.a,g.a,E.a,Se.a,de.a,fe.o]),i.rb(6,245760,null,0,_e.a,[_.a,pe.a,d.ke,S.a,b.a,Ee.a,we.a,Y.a,ye.a,y.a,w.a,E.a,z.a,ke.a,de.a,Ae.a,Se.a,k.a,Re.a,Ce.a,Pe.a],{shippingWorkflow:[0,"shippingWorkflow"],validateAddressEvent:[1,"validateAddressEvent"]},null)],(function(e,n){var t=n.component;e(n,6,0,t.vm.shippingWorkflow,t.vm.validateAddressEvent$)}),(function(e,n){var t=i.Mb(n,2,0,e(n,3,0,i.Eb(n.parent,0),"destinationPage_title2"));e(n,2,0,t)}))}function Dn(e){return i.Nb(0,[i.Fb(0,d.Bb,[d.Db]),(e()(),i.sb(1,0,null,null,30,"section",[["class","ups-section"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,1,"alerts",[],null,null,null,Me.b,Me.a)),i.rb(3,245760,null,0,Ue.a,[d.v],null,null),(e()(),i.sb(4,0,null,null,21,"div",[],null,null,null,null,null)),i.Ib(512,null,R.F,R.G,[i.r,i.s,i.k,i.D]),i.rb(6,278528,null,0,R.l,[R.F],{ngClass:[0,"ngClass"]},null),i.Gb(7,{row:0}),(e()(),i.sb(8,0,null,null,15,"div",[["class","ups-section"]],null,null,null,null,null)),i.Ib(512,null,R.F,R.G,[i.r,i.s,i.k,i.D]),i.rb(10,278528,null,0,R.l,[R.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i.Gb(11,{"col-md-5":0}),(e()(),i.sb(12,0,null,null,7,"div",[["class","ups-section-header"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,fn)),i.rb(14,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(15,0,null,null,4,"h2",[["class","ups-section_heading"]],null,null,null,null,null)),(e()(),i.hb(16777216,null,null,1,null,_n)),i.rb(17,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),i.hb(0,[["originOnlyHeadingTemplate",2]],null,0,null,yn)),(e()(),i.hb(0,[["originAndReturnHeadingTemplate",2]],null,0,null,kn)),(e()(),i.hb(16777216,null,null,1,null,An)),i.rb(21,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Rn)),i.rb(23,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,On)),i.rb(25,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,In)),i.rb(27,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Ln)),i.rb(29,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Bn)),i.rb(31,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(32,0,null,null,1,"back-forward-navigation",[],null,[[null,"navigateEvent"]],(function(e,n,t){var i=!0;return"navigateEvent"===n&&(i=!1!==e.component.on.navigateEvent(t)&&i),i}),Ve.b,Ve.a)),i.rb(33,245760,null,0,Ge.a,[k.a,E.a,Re.a,z.a,A.a,Pe.a,S.a,He.a,We.a,d.Fe],{navigationDisplaySet:[0,"navigationDisplaySet"],navigationNotify:[1,"navigationNotify"]},{navigateEvent:"navigateEvent"})],(function(e,n){var t=n.component;e(n,3,0);var l=e(n,7,0,t.style.originAndReturnLayout);e(n,6,0,l);var a=e(n,11,0,t.style.originAndReturnLayout);e(n,10,0,"ups-section",a),e(n,14,0,t.show.editOriginReturn),e(n,17,0,t.show.originOnlyHeading,i.Eb(n,18),i.Eb(n,19)),e(n,21,0,t.show.forwardMode),e(n,23,0,t.show.returnsMode),e(n,25,0,t.show.returnSection),e(n,27,0,t.show.accountsDropdown),e(n,29,0,t.show.forwardMode),e(n,31,0,t.show.returnsMode),e(n,33,0,t.vm.navigationDisplaySet,t.vm.navigationNotify$)}),null)}function $n(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,Dn,Sn)),i.rb(1,245760,null,0,mn,[g.a,S.a,d.Of,d.v,b.a,ye.a,k.a,Ye.a,A.a,y.a,w.a,ke.a,Je.a,gn.a,Y.a,bn.a,$e.a,Re.a,en.a],null,null)],(function(e,n){e(n,1,0)}),null)}var Tn=i.ob("ng-component",mn,$n,{},{},[]),Fn=t("5StO"),xn=t("dVaG"),jn=t("mauU"),Mn=t("kdjS"),Un=t("ntlc"),Vn=t("1kXu"),Gn=t("Hh+2"),Hn=t("Gy8b"),Wn=t("dD9X"),qn=t("tBT7");class zn extends d.wb{constructor(e,n,t,i,l,a,s,r,o,u,c,p,h,v){super(),this._navigationService=e,this._pageValidationErrorsService=n,this._modalLauncherService=t,this._stateService=i,this._webTrendsService=l,this._uiEventLoggingService=a,this._dataUpdaterService=s,this._alertsService=r,this._shipmentDataService=o,this._broadcastService=u,this._packageRulesService=c,this._clientSideErrorService=p,this._businessRulesService=h,this._rulesFactoryService=v,this._shipmentRules=new qn.a,this.on={navigateEvent:e=>{switch(e){case Xe.a.Continue:this.vm.navigationNotify$.next(Xe.a.Continue),this._navigationService.isReadyToNav$.pipe(Object(ze.a)(e=>e),Object(j.a)(1)).subscribe(e=>{d.nd.submitForm(this.vm.form),this.checkForMissingReferenceNumbers(),this.vm.form.valid?(this._broadcastService.broadcastMessage(d.Q.GenerateMultipleIdenticalPackages),this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._pageValidationErrorsService.hasCriticalErrors()?(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop()):(this._dataUpdaterService.migrateWorkingStoreToPersistedStore(),this._navigationService.confirmPageAndNavigateToNextPage(d.B.GuidedPackagePage))):(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop(),setTimeout(()=>{this._pageValidationErrorsService.updateFieldErrors()}))});break;case Xe.a.Back:this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._dataUpdaterService.restorePersistedStoreToWorkingStore(),this._navigationService.navigateToPrecedingPage(d.B.GuidedPackagePage);break;case Xe.a.CancelShipment:default:this._modalLauncherService.launchCancelShipmentWarningModal()}}},this.vm={form:new Ke.l({}),navigationDisplaySet:Ze.a.BackContinue,navigationNotify$:new Qe.a},this.show={worldwideEconomyHeaderSummary:!1,gfpHandlingUnitList:!1}}ngOnInit(){this._pageValidationErrorsService.serverErrorsAdded$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(()=>this.vm.navigationNotify$.next(Xe.a.Stop)),this._shipmentDataService.isWorldwideEconomyShipment$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this.show.worldwideEconomyHeaderSummary=e),this._shipmentDataService.shipment$.pipe(Object(j.a)(1)).subscribe(e=>{e&&e.shipmentType&&e.shipmentType.groundFreightPricing&&(this.show.gfpHandlingUnitList=e.handlingUnits.length>0)}),this._stateService.markProgressStepAsVisited(d.Lg.Package),this._rulesFactoryService.shipmentRules$().pipe(Object(j.a)(1)).subscribe(e=>this._shipmentRules=e),this._webTrendsService.updateUtagsForPackageInfo(this._shipmentRules.isShipmentInternational()),this._uiEventLoggingService.logPageLoadEvent()}ngOnDestroy(){this.completeSubscriptions()}checkForMissingReferenceNumbers(){this._packageRulesService.someRequiredReferenceNumbersAreMissing$().pipe(Object(j.a)(1)).subscribe(e=>{e?(this._clientSideErrorService.addClientSideError(d.cb.SOME_REQUIRED_REFERENCE_NUMBERS_ARE_MISSING),this.vm.navigationNotify$.next(Xe.a.Stop)):this._clientSideErrorService.removeClientSideError(d.cb.SOME_REQUIRED_REFERENCE_NUMBERS_ARE_MISSING)})}}var Kn=i.qb({encapsulation:2,styles:[],data:{}});function Xn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"worldwide-economy-header-summary",[],null,null,null,Fn.b,Fn.a)),i.rb(1,114688,null,0,xn.a,[w.a,g.a,b.a,d.Kb],null,null)],(function(e,n){e(n,1,0)}),null)}function Jn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"handling-unit-list",[["id","gfpHandlingUnitList"]],null,null,null,jn.b,jn.a)),i.rb(1,114688,null,0,Mn.a,[d.ke,w.a],null,null)],(function(e,n){e(n,1,0)}),null)}function Zn(e){return i.Nb(0,[i.Fb(0,d.Bb,[d.Db]),(e()(),i.sb(1,0,null,null,11,"section",[["class","ups-section"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(3,null,["",""])),i.Hb(4,1),(e()(),i.sb(5,0,null,null,1,"alerts",[],null,null,null,Me.b,Me.a)),i.rb(6,245760,null,0,Ue.a,[d.v],null,null),(e()(),i.hb(16777216,null,null,1,null,Xn)),i.rb(8,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(9,0,null,null,1,"shipment-packages",[["id","nbsPackagePageShipmentPackages"]],null,null,null,Un.b,Un.a)),i.rb(10,4440064,null,0,Vn.a,[_.a,d.Of,S.a,g.a,E.a,w.a,z.a,y.a,ke.a,d.R,K.a,d.Fe,Gn.a,bn.a],{parentForm:[0,"parentForm"]},null),(e()(),i.hb(16777216,null,null,1,null,Jn)),i.rb(12,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(13,0,null,null,1,"back-forward-navigation",[["id","nbsPackagePageBackForwardNavigation"]],null,[[null,"navigateEvent"]],(function(e,n,t){var i=!0;return"navigateEvent"===n&&(i=!1!==e.component.on.navigateEvent(t)&&i),i}),Ve.b,Ve.a)),i.rb(14,245760,null,0,Ge.a,[k.a,E.a,Re.a,z.a,A.a,Pe.a,S.a,He.a,We.a,d.Fe],{navigationDisplaySet:[0,"navigationDisplaySet"],navigationNotify:[1,"navigationNotify"]},{navigateEvent:"navigateEvent"})],(function(e,n){var t=n.component;e(n,6,0),e(n,8,0,t.show.worldwideEconomyHeaderSummary),e(n,10,0,t.vm.form),e(n,12,0,t.show.gfpHandlingUnitList),e(n,14,0,t.vm.navigationDisplaySet,t.vm.navigationNotify$)}),(function(e,n){var t=i.Mb(n,3,0,e(n,4,0,i.Eb(n,0),"packagePage_pageTitle"));e(n,3,0,t)}))}function Qn(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,Zn,Kn)),i.rb(1,245760,null,0,zn,[g.a,d.Of,b.a,S.a,k.a,Ye.a,y.a,d.v,w.a,d.R,bn.a,Hn.a,Wn.a,Y.a],null,null)],(function(e,n){e(n,1,0)}),null)}var Yn=i.ob("ng-component",zn,Qn,{},{},[]),et=t("P/zj"),nt=t("8Vwe"),tt=t("G2lY"),it=t("jNPM"),lt=t("JaAo"),at=t("jju9"),st=t("9O1M"),rt=t("pnFd"),ot=t("PTzI"),ut=t("JrBX"),ct=t("e2br"),pt=t("krcZ"),dt=t("xhrb");class ht extends d.wb{constructor(e,n,t,i,l,a,s,r,o,u,c,p){super(),this._navigationService=e,this._pageValidationErrorsService=n,this._modalLauncherService=t,this._stateService=i,this._webTrendsService=l,this._uiEventLoggingService=a,this._dataUpdaterService=s,this._shipmentDataService=r,this._alertsService=o,this._packageRulesService=u,this._triggerLinkService=c,this._modernToLegacyStateChangeService=p,this._isSimpleRateShipment=!1,this.on={navigateEvent:e=>{switch(e){case Xe.a.Continue:this.vm.navigationNotify$.next(Xe.a.Continue),this._navigationService.isReadyToNav$.pipe(Object(ze.a)(e=>e),Object(j.a)(1)).subscribe(e=>{d.nd.submitForm(this.vm.form),this.vm.form.valid&&this._modernToLegacyStateChangeService.isModernPickupCacValid()?(this._shipmentDataService.shipment$.pipe(Object(j.a)(1)).subscribe(e=>{dt.a.isAccessPointSelectionValid(e)?(this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._pageValidationErrorsService.hasCriticalErrors()?(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop()):this.vm.isPickupAddressSelected?this.vm.validateAddressEvent$.next():(this._dataUpdaterService.migrateWorkingStoreToPersistedStore(),this._navigationService.confirmPageAndNavigateToNextPage(d.B.GuidedPickupServicePage))):(this.vm.navigationNotify$.next(Xe.a.Stop),this._modalLauncherService.launchAccessPointModal())}),this.updateTriggerLinkService()):(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop(),setTimeout(()=>{this._pageValidationErrorsService.updateFieldErrors()}))});break;case Xe.a.Back:this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._dataUpdaterService.restorePersistedStoreToWorkingStore(),this._packageRulesService.setActivePackageIndex(0),this._navigationService.navigateToPrecedingPage(d.B.GuidedPickupServicePage);break;case Xe.a.CancelShipment:default:this._modalLauncherService.launchCancelShipmentWarningModal()}},validateAddressResponseEvent:()=>{this._dataUpdaterService.migrateWorkingStoreToPersistedStore(),this._navigationService.confirmPageAndNavigateToNextPage(d.B.GuidedPickupServicePage)},updateAddressResponseEvent:()=>{this.vm.navigationNotify$.next(Xe.a.Stop)},pickupOptionClickedEvent:e=>{this.vm.isPickupAddressSelected=e}},this.show={worldwideEconomyHeaderSummary:!1},this.vm={form:new Ke.l({}),navigationDisplaySet:Ze.a.BackContinue,validateAddressEvent$:new Qe.a,navigationNotify$:new Qe.a,isPickupAddressSelected:!1}}ngOnInit(){this._pageValidationErrorsService.serverErrorsAdded$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(()=>{this.vm.navigationNotify$.next(Xe.a.Stop)}),this._shipmentDataService.isWorldwideEconomyShipment$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>{this.show.worldwideEconomyHeaderSummary=e}),this._shipmentDataService.isSimpleRateShipment$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this._isSimpleRateShipment=e),this._stateService.markProgressStepAsVisited(d.Lg.Service),this._webTrendsService.updateUtagsForShippingService(this._isSimpleRateShipment),this._uiEventLoggingService.logPageLoadEvent()}ngOnDestroy(){this.completeSubscriptions()}updateTriggerLinkService(){this._triggerLinkService.updateUtagsLink("Guided PickUp Service")}}var vt=i.qb({encapsulation:2,styles:[],data:{}});function bt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"worldwide-economy-header-summary",[],null,null,null,Fn.b,Fn.a)),i.rb(1,114688,null,0,xn.a,[w.a,g.a,b.a,d.Kb],null,null)],(function(e,n){e(n,1,0)}),null)}function gt(e){return i.Nb(0,[i.Fb(0,d.Bb,[d.Db]),(e()(),i.sb(1,0,null,null,10,"section",[["class","ups-section"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(3,null,["",""])),i.Hb(4,1),(e()(),i.sb(5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i.sb(6,0,null,null,1,"alerts",[],null,null,null,Me.b,Me.a)),i.rb(7,245760,null,0,Ue.a,[d.v],null,null),(e()(),i.hb(16777216,null,null,1,null,bt)),i.rb(9,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(10,0,null,null,1,"shipment-services",[["id","nbsPickupServicePageShipmentServices"]],null,[[null,"validateAddressResponseEvent"],[null,"updateAddressResponseEvent"],[null,"pickupOptionClickedEvent"]],(function(e,n,t){var i=!0,l=e.component;return"validateAddressResponseEvent"===n&&(i=!1!==l.on.validateAddressResponseEvent()&&i),"updateAddressResponseEvent"===n&&(i=!1!==l.on.updateAddressResponseEvent()&&i),"pickupOptionClickedEvent"===n&&(i=!1!==l.on.pickupOptionClickedEvent(t)&&i),i}),et.b,et.a)),i.rb(11,245760,null,0,nt.a,[q.a,S.a,tt.a,m.a,d.Ri,M.a,d.ke,it.a,_.a,Ee.a,pe.a,d.Of,g.a,Y.a,Ye.a,A.a,y.a,w.a,lt.a,z.a,ke.a,E.a,at.a,Hn.a,st.a,rt.a,ot.a,ut.a,ct.a,X.a,d.Fe,pt.a],{parentForm:[0,"parentForm"],validateAddressEvent:[1,"validateAddressEvent"]},{validateAddressResponseEvent:"validateAddressResponseEvent",updateAddressResponseEvent:"updateAddressResponseEvent",pickupOptionClickedEvent:"pickupOptionClickedEvent"}),(e()(),i.sb(12,0,null,null,1,"back-forward-navigation",[["id","nbsPickupServicePageBackForwardNavigation"]],null,[[null,"navigateEvent"]],(function(e,n,t){var i=!0;return"navigateEvent"===n&&(i=!1!==e.component.on.navigateEvent(t)&&i),i}),Ve.b,Ve.a)),i.rb(13,245760,null,0,Ge.a,[k.a,E.a,Re.a,z.a,A.a,Pe.a,S.a,He.a,We.a,d.Fe],{navigationDisplaySet:[0,"navigationDisplaySet"],navigationNotify:[1,"navigationNotify"]},{navigateEvent:"navigateEvent"})],(function(e,n){var t=n.component;e(n,7,0),e(n,9,0,t.show.worldwideEconomyHeaderSummary),e(n,11,0,t.vm.form,t.vm.validateAddressEvent$),e(n,13,0,t.vm.navigationDisplaySet,t.vm.navigationNotify$)}),(function(e,n){var t=i.Mb(n,3,0,e(n,4,0,i.Eb(n,0),"pickupServicePage_pageTitle"));e(n,3,0,t)}))}function mt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,gt,vt)),i.rb(1,245760,null,0,ht,[g.a,d.Of,b.a,S.a,k.a,Ye.a,y.a,w.a,d.v,bn.a,Pe.a,$e.a],null,null)],(function(e,n){e(n,1,0)}),null)}var St=i.ob("ng-component",ht,mt,{},{},[]),ft=t("11AB"),_t=t("vEbG"),Et=t("6GlY"),wt=t("t8Bw"),yt=t("upbZ"),kt=t("2Unt"),At=t("LxUF"),Rt=t("Y/7e"),Ct=t("/itE"),Pt=t("WaK5"),Ot=t("uSSy");class Nt extends d.wb{constructor(e,n,t,i,l,a,s,r,o,u,c,p,h,v,b,g,m,S){super(),this._navigationService=e,this._rulesFactoryService=n,this._pageValidationErrorsService=t,this._modalLauncherService=i,this._stateService=l,this._webTrendsService=a,this._uiEventLoggingService=s,this._dataUpdaterService=r,this._alertsService=o,this._clientSideErrorService=u,this._internationalFormsService=c,this._dgService=p,this._shipmentDataService=h,this._descriptionOfGoodsService=v,this._transactionDataService=b,this._preferencesDataService=g,this._enabledFeaturesService=m,this._dutyRulesService=S,this._shipmentRules=new qn.a,this._validateDescriptionOfGoods=!1,this._shipmentDescription="",this._restrictedGoodsValidationEnabled=!1,this._shipmentDescriptionValueChange="",this._isCommercialInvoiceRequired=!1,this._isSurePostShipment=!1,this._isCN22Required=!1,this.vm={form:new Ke.l({}),navigationDisplaySet:Ze.a.BackContinue,navigationNotify$:new Qe.a,shippingWorkflow:d.fi.Guided,viewMode:d.Zi.None},this.on={navigateEvent:e=>{switch(e){case Xe.a.Continue:this._validateDescriptionOfGoods?!d.Sb.isNullOrEmptyString(this._shipmentDescription)||this._shipmentDescriptionValueChange?(d.Sb.isNullOrEmptyString(this._shipmentDescription)&&(this._shipmentDescription=this._shipmentDescriptionValueChange),this._descriptionOfGoodsService.descriptionOfGoodsBackendCall(this._shipmentDescription).subscribe(e=>{e.valid?this.navigateForward():(this.vm.navigationNotify$.next(Xe.a.Stop),this._pageValidationErrorsService.updateFieldErrors())})):(this._pageValidationErrorsService.updateFieldErrors(),this.vm.navigationNotify$.next(Xe.a.Stop)):this.navigateForward();break;case Xe.a.Back:this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._dataUpdaterService.restorePersistedStoreToWorkingStore(),this._navigationService.navigateToPrecedingPage(d.B.GuidedOptionsPage);break;case Xe.a.CancelShipment:default:this._modalLauncherService.launchCancelShipmentWarningModal()}}},this.show={internationalSection:()=>this._shipmentRules.isInternationalSectionValid(),dangerousGoods:!1,worldwideEconomyHeaderSummary:!1},this._restrictedGoodsValidationEnabled=m.isFeatureEnabled(d.Sc.RestrictedGoodsValidation)}ngOnInit(){this.vm.viewMode=d.Zi.Edit,this._rulesFactoryService.createShipmentRules().pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this._shipmentRules=e),this._pageValidationErrorsService.serverErrorsAdded$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(()=>this.vm.navigationNotify$.next(Xe.a.Stop)),this._shipmentDataService.shipmentType$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this._isSurePostShipment=e.surePostType===d.pi.SurePostLightweightContract||e.surePostType===d.pi.SurePostBoundPrintedMatterContract||e.surePostType===d.pi.SurePostMediaMailContract),this._stateService.markProgressStepAsVisited(d.Lg.Options),this._webTrendsService.updateUtagsForShipmentOptions(),this._uiEventLoggingService.logPageLoadEvent(),this._dgService.isSignatoryInformationRequired$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this.show.dangerousGoods=e),this._shipmentDataService.shipmentDescription$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this._shipmentDescription=e),Object(Z.a)([this._transactionDataService.loggedIn$,this._preferencesDataService.userAccounts$]).pipe(Object(j.a)(1)).subscribe(([e,n])=>{this._validateDescriptionOfGoods=this._restrictedGoodsValidationEnabled&&d.Zh.validateShipmentDescription(e,n)}),this._descriptionOfGoodsService.shipmentDescriptionValueChange$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this._shipmentDescriptionValueChange=e),this._shipmentDataService.isWorldwideEconomyShipment$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this.show.worldwideEconomyHeaderSummary=e)}ngOnDestroy(){this.completeSubscriptions()}navigateForward(){this.vm.navigationNotify$.next(Xe.a.Continue),this._navigationService.isReadyToNav$.pipe(Object(ze.a)(e=>e),Object(j.a)(1)).subscribe(e=>{this._shipmentRules.isShipmentInternational()&&this.vm.form.valid&&!this._isSurePostShipment?this.checkCommercialInvoiceStatus():this._isSurePostShipment&&this.checkCN22FormStatus(),d.nd.submitForm(this.vm.form),this.vm.form.valid?(this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._pageValidationErrorsService.hasCriticalErrors()||this._isCommercialInvoiceRequired||this._isCN22Required?(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop()):(this._dataUpdaterService.migrateWorkingStoreToPersistedStore(),this._navigationService.confirmPageAndNavigateToNextPage(d.B.GuidedOptionsPage))):(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop(),setTimeout(()=>{this._pageValidationErrorsService.updateFieldErrors()}))})}checkCommercialInvoiceStatus(){Object(Z.a)([this._internationalFormsService.getCommericalInvoiceSelected$(),this._internationalFormsService.doesUploadFormsContainCommercialInvoice$(),this._dutyRulesService.isShipmentDutiable$]).pipe(Object(j.a)(1)).subscribe(([e,n,t])=>{e&&n?(this._clientSideErrorService.addClientSideError(d.cb.TOO_MANY_COMMERCIAL_INVOICES),this.vm.navigationNotify$.next(Xe.a.Stop)):e||n||!t?(this._isCommercialInvoiceRequired=!1,this._clientSideErrorService.removeClientSideError(d.cb.TOO_MANY_COMMERCIAL_INVOICES)):(this._isCommercialInvoiceRequired=!0,this._internationalFormsService.setLaunchWizard$(!0))})}checkCN22FormStatus(){Object(Z.a)([this._internationalFormsService.getCN22Selected$(),this._shipmentDataService.international$,this._rulesFactoryService.createLaneRules()]).pipe(Object(j.a)(1)).subscribe(([e,n,t])=>{e||t.destinationCountry===d.Hb.UnitedStates||t.isUsToPr||n.useCustomsTotal?this._isCN22Required=!1:(this._isCN22Required=!0,this._internationalFormsService.setLaunchWizard$(!0))})}}var It=i.qb({encapsulation:2,styles:[],data:{}});function Lt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"worldwide-economy-header-summary",[],null,null,null,Fn.b,Fn.a)),i.rb(1,114688,null,0,xn.a,[w.a,g.a,b.a,d.Kb],null,null)],(function(e,n){e(n,1,0)}),null)}function Bt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"international-bridge",[["id","nbsOptionsPageInternationalBridge"]],null,null,null,ft.b,ft.a)),i.rb(1,114688,null,0,_t.a,[Et.a,d.Ze],{parentForm:[0,"parentForm"]},null)],(function(e,n){e(n,1,0,n.component.vm.form)}),null)}function Dt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"dangerous-goods",[],null,null,null,wt.b,wt.a)),i.rb(1,245760,null,0,yt.a,[ot.a,w.a,S.a,y.a],{shippingWorkflow:[0,"shippingWorkflow"],viewInteractionMode:[1,"viewInteractionMode"],parentForm:[2,"parentForm"]},null)],(function(e,n){var t=n.component;e(n,1,0,t.vm.shippingWorkflow,t.vm.viewMode,t.vm.form)}),null)}function $t(e){return i.Nb(0,[i.Fb(0,d.Bb,[d.Db]),(e()(),i.sb(1,0,null,null,14,"section",[["class","ups-section"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(3,null,["",""])),i.Hb(4,1),(e()(),i.sb(5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),i.sb(6,0,null,null,1,"alerts",[],null,null,null,Me.b,Me.a)),i.rb(7,245760,null,0,Ue.a,[d.v],null,null),(e()(),i.hb(16777216,null,null,1,null,Lt)),i.rb(9,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Bt)),i.rb(11,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.hb(16777216,null,null,1,null,Dt)),i.rb(13,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(14,0,null,null,1,"shipment-options",[["id","nbsOptionsPageShipmentOptions"]],null,null,null,kt.b,kt.a)),i.rb(15,245760,null,0,At.a,[tt.a,M.a,d.ke,S.a,q.a,w.a,y.a,at.a,st.a,pe.a,Hn.a,ot.a,d.Fe,E.a,ke.a,g.a,Ce.a,Rt.a,z.a,Ct.a],{parentForm:[0,"parentForm"]},null),(e()(),i.sb(16,0,null,null,1,"back-forward-navigation",[["id","nbsGuidedBackForwardNavigation"]],null,[[null,"navigateEvent"]],(function(e,n,t){var i=!0;return"navigateEvent"===n&&(i=!1!==e.component.on.navigateEvent(t)&&i),i}),Ve.b,Ve.a)),i.rb(17,245760,null,0,Ge.a,[k.a,E.a,Re.a,z.a,A.a,Pe.a,S.a,He.a,We.a,d.Fe],{navigationDisplaySet:[0,"navigationDisplaySet"],navigationNotify:[1,"navigationNotify"]},{navigateEvent:"navigateEvent"})],(function(e,n){var t=n.component;e(n,7,0),e(n,9,0,t.show.worldwideEconomyHeaderSummary),e(n,11,0,t.show.internationalSection()),e(n,13,0,t.show.dangerousGoods),e(n,15,0,t.vm.form),e(n,17,0,t.vm.navigationDisplaySet,t.vm.navigationNotify$)}),(function(e,n){var t=i.Mb(n,3,0,e(n,4,0,i.Eb(n,0),"optionsPage_pageTitle"));e(n,3,0,t)}))}function Tt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,$t,It)),i.rb(1,245760,null,0,Nt,[g.a,Y.a,d.Of,b.a,S.a,k.a,Ye.a,y.a,d.v,Hn.a,Pt.a,ot.a,w.a,Ot.a,E.a,ke.a,Ce.a,d.Gc],null,null)],(function(e,n){e(n,1,0)}),null)}var Ft=i.ob("ng-component",Nt,Tt,{},{},[]),xt=t("e9P+"),jt=t("e/6s"),Mt=t("ungK"),Ut=t("eZby"),Vt=t("G1fR"),Gt=t("TLy2"),Ht=t("mt4s");class Wt extends d.wb{constructor(e,n,t,i,l,a,s,r,o,u,c,p,h,v,b,g){super(),this._navigationService=e,this._pageValidationErrorsService=n,this._modalLauncherService=t,this._stateService=i,this._accountValidationService=l,this._webTrendsService=a,this._uiEventLoggingService=s,this._dataUpdaterService=r,this._shipmentDataService=o,this._alertsService=u,this._rulesFactoryService=c,this._clientSideErrorService=p,this._automaticOptionsService=h,this._userDataService=v,this._stateDataService=b,this._broadcastService=g,this._paymentRules=new d.Wf,this.on={navigateEvent:e=>{switch(e){case Xe.a.Review:this.vm.navigationNotify$.next(Xe.a.Review),this.updateProcessShipmentLogData(),this._navigationService.isReadyToNav$.pipe(Object(ze.a)(e=>e),Object(j.a)(1)).subscribe(e=>{d.nd.submitForm(this.vm.form),this.checkForPaymentRulesViolations(),this.vm.form.valid?this.vm.validateBillingAddressEvent$.next():(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop(),this._pageValidationErrorsService.updateFieldErrors())});break;case Xe.a.Back:this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._dataUpdaterService.restorePersistedStoreToWorkingStore(),this._navigationService.navigateToPrecedingPage(d.B.GuidedPaymentPage);break;case Xe.a.CancelShipment:default:this._modalLauncherService.launchCancelShipmentWarningModal()}},storeResponseEvent:e=>{this.navigateToNextPage()},storeFailureEvent:()=>{this.vm.navigationNotify$.next(Xe.a.Stop)},validateBillingAddressResponseEvent:()=>{this._broadcastService.broadcastMessage(d.Q.GenerateMultipleIdenticalPackages),this._accountValidationService.validateAccounts$.pipe(Object(j.a)(1)).subscribe(e=>{this._alertsService.clearAlerts(),this._pageValidationErrorsService.clearFieldErrors(),this._pageValidationErrorsService.hasCriticalErrors()?(this.vm.navigationNotify$.next(Xe.a.Stop),this._navigationService.scrollToTop()):(this._pageValidationErrorsService.clearServerErrors(),this._shipmentDataService.accountNumber$.pipe(Object(j.a)(1),Object(Gt.a)(e=>this._userDataService.getAccountInformation(e))).subscribe(e=>{if(e.hasAutoProactiveResponseContract)this._automaticOptionsService.applyAutoPar().subscribe(e=>{this._automaticOptionsService.updatePackages(e),this.handlePaymentForReview()});else{let n=!1,t=!1;this._shipmentDataService.isAutoParShipment$.pipe(Object(j.a)(1)).subscribe(e=>n=e),t=e.hasProactiveResponseContract,n&&!t&&this._automaticOptionsService.removeAutoParFromShipment(),this.handlePaymentForReview()}}))})},updateBillingAddressResponseEvent:()=>{this.vm.navigationNotify$.next(Xe.a.Stop)}},this.vm={form:new Ke.l({}),navigationDisplaySet:Ze.a.BackReview,viewInteractionMode:d.Zi.Edit,storeEvent$:new Qe.a,navigationNotify$:new Qe.a,validateBillingAddressEvent$:new Qe.a},this.show={worldwideEconomyHeaderSummary:!1}}ngOnInit(){this._pageValidationErrorsService.serverErrorsAdded$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(()=>this.vm.navigationNotify$.next(Xe.a.Stop)),this._rulesFactoryService.createPaymentRules().pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this._paymentRules=e),this._shipmentDataService.isWorldwideEconomyShipment$.pipe(Object(x.a)(this.ngUnsubscribe)).subscribe(e=>this.show.worldwideEconomyHeaderSummary=e),this._stateService.markProgressStepAsVisited(d.Lg.Payment),this._webTrendsService.updateUtagsForPayment(),this._uiEventLoggingService.logPageLoadEvent()}ngOnDestroy(){this.completeSubscriptions()}navigateToNextPage(){this._dataUpdaterService.migrateWorkingStoreToPersistedStore(),this._navigationService.setWorkflowUsed(d.fi.Guided),this._navigationService.confirmPageAndNavigateToNextPage(d.B.GuidedPaymentPage)}checkForPaymentRulesViolations(){this._paymentRules.isPaymentValidWithShipmentOptions()?this._clientSideErrorService.removeClientSideError(d.cb.COD_INVALID_ERROR):this._clientSideErrorService.addClientSideError(d.cb.COD_INVALID_ERROR)}handlePaymentForReview(){this._shipmentDataService.transportationPaymentMethod$.pipe(Object(j.a)(1)).subscribe(e=>{switch(e){case d.Vf.PaymentCard:case d.Vf.AlternatePaymentMethod:case d.Vf.PayAtStore:this.vm.storeEvent$.next();break;default:this.navigateToNextPage()}})}updateProcessShipmentLogData(){let e=new d.Xe;this._stateDataService.logData$.pipe(Object(j.a)(1)).subscribe(n=>e=d.Sb.deepCopy(n)),e.reviewButtonUsed=!0,this._stateService.setLogData(e)}}var qt=i.qb({encapsulation:2,styles:[],data:{}});function zt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"worldwide-economy-header-summary",[],null,null,null,Fn.b,Fn.a)),i.rb(1,114688,null,0,xn.a,[w.a,g.a,b.a,d.Kb],null,null)],(function(e,n){e(n,1,0)}),null)}function Kt(e){return i.Nb(0,[i.Fb(0,d.Bb,[d.Db]),(e()(),i.sb(1,0,null,null,9,"section",[["class","ups-section"]],null,null,null,null,null)),(e()(),i.sb(2,0,null,null,2,"h2",[["class","ups-section_heading ups-centered_header text-center"]],null,null,null,null,null)),(e()(),i.Lb(3,null,["",""])),i.Hb(4,1),(e()(),i.sb(5,0,null,null,1,"alerts",[],null,null,null,Me.b,Me.a)),i.rb(6,245760,null,0,Ue.a,[d.v],null,null),(e()(),i.hb(16777216,null,null,1,null,zt)),i.rb(8,16384,null,0,R.n,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(e()(),i.sb(9,0,null,null,1,"payment",[["id","nbsPaymentPagePayment"]],null,[[null,"storeResponseEvent"],[null,"storeFailureEvent"],[null,"validateBillingAddressResponseEvent"],[null,"updateBillingAddressResponseEvent"]],(function(e,n,t){var i=!0,l=e.component;return"storeResponseEvent"===n&&(i=!1!==l.on.storeResponseEvent(t)&&i),"storeFailureEvent"===n&&(i=!1!==l.on.storeFailureEvent()&&i),"validateBillingAddressResponseEvent"===n&&(i=!1!==l.on.validateBillingAddressResponseEvent()&&i),"updateBillingAddressResponseEvent"===n&&(i=!1!==l.on.updateBillingAddressResponseEvent()&&i),i}),xt.b,xt.a)),i.rb(10,245760,null,0,jt.a,[_.a,Y.a,g.a,d.Ri,d.Of,Mt.a,q.a,ye.a,y.a,w.a,E.a,z.a,Je.a,Ut.a,pe.a,d.Kb,d.Gc,Ce.a,Vt.a],{parentForm:[0,"parentForm"],viewInteractionMode:[1,"viewInteractionMode"],storeEvent:[2,"storeEvent"],validateBillingAddressEvent:[3,"validateBillingAddressEvent"]},{validateBillingAddressResponseEvent:"validateBillingAddressResponseEvent",updateBillingAddressResponseEvent:"updateBillingAddressResponseEvent",storeResponseEvent:"storeResponseEvent",storeFailureEvent:"storeFailureEvent"}),(e()(),i.sb(11,0,null,null,1,"back-forward-navigation",[["id","nbsPaymentPageBackForwardNavigation"]],null,[[null,"navigateEvent"]],(function(e,n,t){var i=!0;return"navigateEvent"===n&&(i=!1!==e.component.on.navigateEvent(t)&&i),i}),Ve.b,Ve.a)),i.rb(12,245760,null,0,Ge.a,[k.a,E.a,Re.a,z.a,A.a,Pe.a,S.a,He.a,We.a,d.Fe],{navigationDisplaySet:[0,"navigationDisplaySet"],navigationNotify:[1,"navigationNotify"]},{navigateEvent:"navigateEvent"})],(function(e,n){var t=n.component;e(n,6,0),e(n,8,0,t.show.worldwideEconomyHeaderSummary),e(n,10,0,t.vm.form,t.vm.viewInteractionMode,t.vm.storeEvent$,t.vm.validateBillingAddressEvent$),e(n,12,0,t.vm.navigationDisplaySet,t.vm.navigationNotify$)}),(function(e,n){var t=i.Mb(n,3,0,e(n,4,0,i.Eb(n,0),"paymentPage_pageTitle"));e(n,3,0,t)}))}function Xt(e){return i.Nb(0,[(e()(),i.sb(0,0,null,null,1,"ng-component",[],null,null,null,Kt,qt)),i.rb(1,245760,null,0,Wt,[g.a,d.Of,b.a,S.a,Mt.a,k.a,Ye.a,y.a,w.a,d.v,Y.a,Hn.a,Ht.a,pe.a,st.a,d.R],null,null)],(function(e,n){e(n,1,0)}),null)}var Jt=i.ob("ng-component",Wt,Xt,{},{},[]),Zt=t("A7oK"),Qt=t("ET8j"),Yt=t("txCO"),ei=t("577p"),ni=t("oTKQ"),ti=t("Hm/L"),ii=t("rPcb"),li=t("YPy8"),ai=t("1Abm"),si=t("/95x"),ri=t("4Gcc"),oi=t("wHLX"),ui=t("wyEH"),ci=t("Ku0t"),pi=t("nrw/"),di=t("bkpz"),hi=t("iXze"),vi=t("cc4n"),bi=t("cozA"),gi=t("PMCf"),mi=t("xtMr"),Si=t("k5GZ"),fi=t("Jggd"),_i=t("WT+a"),Ei=t("eRq+"),wi=t("zlu7"),yi=t("xpqs"),ki=t("Lqqi"),Ai=t("P3bM"),Ri=t("Uquy"),Ci=t("/Blq"),Pi=t("5IRJ"),Oi=t("Y2iB"),Ni=t("S9tE"),Ii=t("EnxX"),Li=t("6uGs"),Bi=t("VJz4"),Di=t("LRy8"),$i=t("yctR"),Ti=t("yHzY"),Fi=t("XiXZ"),xi=t("cGsx"),ji=t("AKRk"),Mi=t("qTGK"),Ui=t("igIl");class Vi{constructor(e,n){this._navigationService=e,this._stateService=n}canActivate(e,n){let t=!0;const i=this._navigationService.getApplicationPageFromUrl(n.url);return this._stateService.progressState$.pipe(Object(j.a)(1)).subscribe(e=>{switch(i){case d.B.GuidedDestinationPage:t=e.origin.isConfirmed;break;case d.B.GuidedPackagePage:t=e.destination.isConfirmed&&e.origin.isConfirmed;break;case d.B.GuidedPickupServicePage:t=e.package.isConfirmed&&e.destination.isConfirmed&&e.origin.isConfirmed;break;case d.B.GuidedOptionsPage:t=e.service.isConfirmed&&e.package.isConfirmed&&e.destination.isConfirmed&&e.origin.isConfirmed;break;case d.B.GuidedPaymentPage:t=e.options.isConfirmed&&e.service.isConfirmed&&e.package.isConfirmed&&e.destination.isConfirmed&&e.origin.isConfirmed}}),t}}var Gi=t("ezy0");const Hi={isInternationalRoute:!1,redirectRoute:Gi.c.guidedInternational},Wi=()=>{return void 0,void 0,n=function*(){return Promise.all([t.e(2),t.e(0)]).then(t.bind(null,"L/xD")).then(e=>e.InternationalModuleNgFactory)},new((e=void 0)||(e=Promise))((function(t,i){function l(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(n){n.done?t(n.value):new e((function(e){e(n.value)})).then(l,a)}s((n=n.apply(void 0,[])).next())}));var e,n},qi={isInternationalRoute:!0,redirectRoute:Gi.c.guidedOptions};class zi{}var Ki=t("w7wT"),Xi=t("1xYt"),Ji=t("PCNd");t.d(n,"GuidedModuleNgFactory",(function(){return Zi}));var Zi=i.pb(l,[],(function(e){return i.Bb([i.Cb(512,i.j,i.Z,[[8,[a.a,re,pn,Tn,Yn,St,Ft,Jt,Zt.a,Qt.a,p.Cb,p.xb,p.Bb,p.Ab,p.zb,p.yb,p.Db,p.a,p.Eb,Yt.a,ei.a,ni.a,ti.a,ii.a,li.a,ai.a,si.a,ri.a,oi.a,ui.a,ci.a,pi.a,di.a,hi.a,vi.a,bi.a,gi.b,mi.b,Si.a,fi.a,s.a,_i.a,Ei.a,wi.a,yi.a,ki.a,Ai.a,Ri.a,Ci.a,Pi.a,Oi.a,Ni.a,Ii.a]],[3,i.j],i.w]),i.Cb(4608,R.p,R.o,[i.t,[2,R.K]]),i.Cb(4608,Ke.h,Ke.h,[]),i.Cb(4608,Ke.B,Ke.B,[]),i.Cb(4608,Li.l,Li.r,[R.d,i.A,Li.p]),i.Cb(4608,Li.s,Li.s,[Li.l,Li.q]),i.Cb(5120,Li.a,(function(e){return[e]}),[Li.s]),i.Cb(4608,Li.o,Li.o,[]),i.Cb(6144,Li.m,null,[Li.o]),i.Cb(4608,Li.k,Li.k,[Li.m]),i.Cb(6144,Li.b,null,[Li.k]),i.Cb(4608,Li.g,Li.n,[Li.b,i.q]),i.Cb(4608,Li.c,Li.c,[Li.g]),i.Cb(4608,Bi.j,Bi.j,[]),i.Cb(4608,Bi.g,Bi.g,[Li.c,Bi.j]),i.Cb(4608,fe.bb,fe.bb,[]),i.Cb(4608,fe.K,fe.K,[]),i.Cb(4608,fe.e,fe.e,[fe.Q]),i.Cb(4608,fe.s,fe.s,[fe.c]),i.Cb(4608,fe.d,fe.z,[]),i.Cb(4608,fe.Y,fe.Y,[Li.c,fe.d]),i.Cb(4608,fe.z,fe.z,[]),i.Cb(4608,Di.a,Di.a,[Li.c]),i.Cb(4608,Di.j,Di.j,[]),i.Cb(4608,Di.g,Di.g,[Di.a,Di.j]),i.Cb(4608,$i.a,$i.a,[i.y,i.E,i.A]),i.Cb(4608,Ti.a,Ti.a,[i.j,i.y,i.q,$i.a,i.g]),i.Cb(4608,Fi.a,Fi.a,[]),i.Cb(4608,xi.a,xi.a,[g.a,Y.a]),i.Cb(135680,ce.a,ce.a,[w.a,pe.a,Ce.a,ji.a,X.a,Mi.a,at.a,z.a,we.a,de.a,b.a,Ui.a,he.a,K.a]),i.Cb(4608,Vi,Vi,[g.a,S.a]),i.Cb(1073742336,R.c,R.c,[]),i.Cb(1073742336,Ke.A,Ke.A,[]),i.Cb(1073742336,Ke.x,Ke.x,[]),i.Cb(1073742336,c.q,c.q,[[2,c.v],[2,c.n]]),i.Cb(1073742336,zi,zi,[]),i.Cb(1073742336,Fi.d,Fi.d,[]),i.Cb(1073742336,Li.e,Li.e,[]),i.Cb(1073742336,Li.d,Li.d,[]),i.Cb(1073742336,Ke.n,Ke.n,[]),i.Cb(1073742336,Ki.bb,Ki.bb,[]),i.Cb(1073742336,d.me,d.me,[]),i.Cb(1073742336,Bi.f,Bi.f,[]),i.Cb(1073742336,fe.S,fe.S,[]),i.Cb(1073742336,ge.d,ge.d,[]),i.Cb(1073742336,Di.f,Di.f,[]),i.Cb(1073742336,Xi.b,Xi.b,[]),i.Cb(1073742336,Ji.a,Ji.a,[]),i.Cb(1073742336,l,l,[]),i.Cb(1024,c.l,(function(){return[[{path:"",component:ee,children:[{path:"origin",component:nn,canActivate:[Vi]},{path:"destination",component:mn,canActivate:[Vi]},{path:"package",component:zn,canActivate:[Vi]},{path:"pickup-service",component:ht,canActivate:[Vi]},{path:"options",canActivate:[xi.a,Vi],component:Nt,data:Hi},{path:"options/international",canLoad:[xi.a],canActivate:[xi.a,Vi],component:Nt,loadChildren:Wi,data:qi},{path:"payment",component:Wt,canActivate:[Vi]}]}]]}),[]),i.Cb(256,Li.p,"NBS-XSRF-TOKEN",[]),i.Cb(256,Li.q,"X-XSRF-TOKEN",[])])}))}}]);